(function(e){function n(n){for(var r,a,u=n[0],i=n[1],s=n[2],p=0,f=[];p<u.length;p++)a=u[p],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&f.push(c[a][0]),c[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);l&&l(n);while(f.length)f.shift()();return o.push.apply(o,s||[]),t()}function t(){for(var e,n=0;n<o.length;n++){for(var t=o[n],r=!0,u=1;u<t.length;u++){var i=t[u];0!==c[i]&&(r=!1)}r&&(o.splice(n--,1),e=a(a.s=t[0]))}return e}var r={},c={app:0},o=[];function a(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=e,a.c=r,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,n){if(1&n&&(e=a(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)a.d(t,r,function(n){return e[n]}.bind(null,r));return t},a.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="/ws-wrtc-client/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],i=u.push.bind(u);u.push=n,u=u.slice();for(var s=0;s<u.length;s++)n(u[s]);var l=i;o.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("cd49")},"64be":function(e,n,t){"use strict";t("c894")},c894:function(e,n,t){},cd49:function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var r=t("7a23");function c(e,n,t,c,o,a){var u=Object(r["k"])("HelloWorld");return Object(r["g"])(),Object(r["c"])(u,{msg:"Welcome to Your Vue.js + TypeScript App"})}var o=Object(r["d"])("h1",null,"WS RTC client",-1),a={class:"container"},u={class:"row"},i={class:"col-sm-6 col-md-6 col-xs-12"},s=Object(r["d"])("p",null,"From sender",-1);function l(e,n,t,c,l,p){var f=Object(r["k"])("center");return Object(r["g"])(),Object(r["c"])("div",null,[Object(r["d"])(f,null,{default:Object(r["n"])((function(){return[o]})),_:1}),Object(r["d"])("div",a,[Object(r["d"])("div",null,[(Object(r["g"])(!0),Object(r["c"])(r["a"],null,Object(r["j"])(e.users,(function(n){return Object(r["g"])(),Object(r["c"])("div",{key:n},[Object(r["d"])("button",{class:"btn",onClick:function(t){return e.call(n)}},Object(r["l"])(n),9,["onClick"])])})),128))]),Object(r["d"])("div",u,[Object(r["d"])("div",i,[s,Object(r["o"])(Object(r["d"])("textarea",{name:"sender","onUpdate:modelValue":n[1]||(n[1]=function(n){return e.sender=n}),cols:"30",rows:"10",onInput:n[2]||(n[2]=function(){return e.Send.apply(e,arguments)}),onKeyup:[n[3]||(n[3]=Object(r["p"])((function(){return e.backFired.apply(e,arguments)}),["backSpace"])),n[4]||(n[4]=Object(r["p"])((function(){return e.backFired.apply(e,arguments)}),["delete"]))]},null,544),[[r["m"],e.sender]])])])])])}t("7db0"),t("4160"),t("c975"),t("a434"),t("159b"),t("96cf");var p=t("1da1"),f=t("8e27"),d=Object(r["e"])({name:"HelloWorld",setup:function(){var e,n,t=Object(r["i"])(""),c=Object(r["h"])([]),o=!1,a=window,u=a.RTCPeerConnection,i=a.RTCSessionDescription,s=new u,l=s.createDataChannel("chanel"),d=function(){var n=Object(p["a"])(regeneratorRuntime.mark((function n(t){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,s.createOffer();case 2:return r=n.sent,n.next=5,s.setLocalDescription(new i(r));case 5:e.emit("call-user",{offer:r,to:t});case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),b=function(){l.send(t.value),e.emit("text-data",{text:t.value})},O=function(){l.send(t.value),e.emit("text-data",{text:t.value})};return Object(r["f"])((function(){e=Object(f["io"])("https://soulsam480-node-ws-wrtc.glitch.me",{transports:["websocket"]}),e.on("update-user-list",(function(e){console.log(e),e.users.forEach((function(e){c.find((function(n){return n===e}))||c.push(e)}))})),e.on("remove-user",(function(e){c.splice(c.indexOf(e.socketId),1)})),e.on("call-made",function(){var n=Object(p["a"])(regeneratorRuntime.mark((function n(t){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,s.setRemoteDescription(new i(t.offer));case 2:return n.next=4,s.createAnswer();case 4:return r=n.sent,n.next=7,s.setLocalDescription(new i(r));case 7:e.emit("make-answer",{answer:r,to:t.socket});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),e.on("answer-made",function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.setRemoteDescription(new i(n.answer));case 2:o||(d(n.socket),o=!0);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),s.ondatachannel=function(e){n=e.channel,n.onmessage=function(e){t.value=e.data},n.onopen=function(e){return console.log("connected")}}})),{sender:t,users:c,call:d,Send:b,backFired:O}}});d.render=l;var b=d,O=Object(r["e"])({name:"App",components:{HelloWorld:b}});t("64be");O.render=c;var j=O;Object(r["b"])(j).mount("#app")}});
//# sourceMappingURL=app.be43bc8e.js.map